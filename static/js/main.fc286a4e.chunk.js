(this["webpackJsonprest-countries-api"]=this["webpackJsonprest-countries-api"]||[]).push([[0],{41:function(e,t,c){},47:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var n=c(21),a=c.n(n),s=c(9),r=c(4),o=c(0),i=c(1),l=Object(o.createContext)(),u=function(e){var t=e.children,c=Object(o.useState)((function(){var e=sessionStorage.getItem("darkMode");return!!e&&JSON.parse(e)})),n=Object(r.a)(c,2),a=n[0],s=n[1];Object(o.useEffect)((function(){sessionStorage.setItem("darkMode",JSON.stringify(a))}),[a]);return Object(i.jsx)(l.Provider,{value:{darkMode:a,toggleDarkMode:function(){s((function(e){return!e}))}},children:t})},d=c(14),j=c.n(d),b=c(20),O=Object(o.createContext)(),h=function(e){var t=e.children,c=Object(o.useState)(!1),n=Object(r.a)(c,2),a=n[0],s=n[1],l=Object(o.useState)(!1),u=Object(r.a)(l,2),d=u[0],h=u[1],m=Object(o.useState)([]),f=Object(r.a)(m,2),x=f[0],_=f[1],p=Object(o.useState)(""),v=Object(r.a)(p,2),g=v[0],N=v[1],k=Object(o.useState)(""),y=Object(r.a)(k,2),C=y[0],S=y[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),h(!1),e.prev=2,e.next=5,fetch("https://restcountries.eu/rest/v2/all");case 5:return t=e.sent,e.next=8,t.json();case 8:c=e.sent,_(c),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),h(!0);case 16:return e.prev=16,s(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,12,16,19]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var w=g?x.filter((function(e){return e.name.toLowerCase().includes(g.trim().toLowerCase())?e:null})):x,M=C?w.filter((function(e){return e.region===C})):w;return Object(i.jsx)(O.Provider,{value:{loading:a,error:d,countries:x,filteredCountries:M,search:g,filter:C,handleSearch:function(e){N(e.target.value)},handleClearSearch:function(){N("")},handleSelectRegion:function(e){if(e.target.getAttribute("data-name")===C)return S("");S(e.target.getAttribute("data-name"))}},children:t})},m=c(3),f=c(28),x=c.n(f),_=(c(41),function(){var e=Object(o.useContext)(l),t=e.darkMode,c=e.toggleDarkMode;return Object(i.jsxs)("label",{className:"mode-toggler ".concat(t?"mode-toggler--dark":""),htmlFor:"darkMode",children:[Object(i.jsx)("input",{className:"mode-toggler__input",type:"checkbox",id:"darkMode",checked:t,onChange:c}),Object(i.jsx)(x.a,{className:"mode-toggler__icon"}),"Dark mode"]})}),p=(c(47),function(){var e=Object(o.useContext)(l).darkMode;return Object(i.jsx)("header",{className:"header ".concat(e?"header--dark":""),children:Object(i.jsxs)("div",{className:"header__content container",children:[Object(i.jsx)(s.b,{className:"header__logo",to:"/",children:"Where in the world?"}),Object(i.jsx)(_,{})]})})}),v=c(29),g=c.n(v),N=c(30),k=c.n(N),y=(c(52),function(){var e=Object(o.useContext)(l).darkMode,t=Object(o.useContext)(O),c=t.search,n=t.handleSearch,a=t.handleClearSearch;return Object(i.jsxs)("div",{className:"search ".concat(e?"search--dark":""),children:[Object(i.jsx)(g.a,{className:"search__icon search__icon--search"}),Object(i.jsx)("input",{className:"search__input",type:"text",placeholder:"Search for a country\u2026",value:c,onChange:n}),c&&Object(i.jsx)(k.a,{className:"search__icon search__icon--clear",onClick:a})]})}),C=c(13),S=c(31),w=c.n(S),M=c(24),L=c.n(M),E=(c(53),function(){var e=Object(o.useContext)(l).darkMode,t=Object(o.useContext)(O),c=t.countries,n=t.filter,a=t.handleSelectRegion,s=Object(o.useState)(!1),u=Object(r.a)(s,2),d=u[0],j=u[1],b=c.map((function(e){return e.region})),h=Object(C.a)(new Set(b)).filter((function(e){return""!==e}));Object(o.useEffect)((function(){j(!1)}),[n]),Object(o.useEffect)((function(){document.addEventListener("mousedown",m)}),[]);var m=function(e){e.target.classList.contains("filter__region")||e.target.classList.contains("filter__toggler")||j(!1)};return Object(i.jsxs)("div",{className:"filter ".concat(e?"filter--dark":""),children:[Object(i.jsxs)("div",{className:"filter__toggler",onClick:function(){j((function(e){return!e}))},children:[n||"Filter by Region",d?Object(i.jsx)(L.a,{className:"filter__icon"}):Object(i.jsx)(w.a,{className:"filter__icon"})]}),Object(i.jsx)("ul",{className:"filter__menu ".concat(d?"filter__menu--open":""),children:h.map((function(e){return Object(i.jsx)("li",{className:"filter__region","data-name":e,onClick:a,children:e},e)}))})]})}),D=(c(54),function(){return Object(i.jsxs)("div",{className:"controls",children:[Object(i.jsx)(y,{}),Object(i.jsx)(E,{})]})}),P=c(32),R=(c(55),function(e){var t=e.className,c=Object(o.useContext)(l).darkMode;return Object(i.jsx)("div",{className:"".concat(t," shimmer ").concat(c?"shimmer--dark":""),children:Object(i.jsx)("div",{className:"shimmer__shine"})})}),F=(c(56),function(){var e=Object(o.useContext)(l).darkMode;return Object(i.jsxs)("li",{className:"card-skeleton ".concat(e?"card-skeleton--dark":""),children:[Object(i.jsx)(R,{className:"card-skeleton__shimmer"}),Object(i.jsx)("div",{className:"card-skeleton__flag"}),Object(i.jsxs)("div",{className:"card-skeleton__info",children:[Object(i.jsx)("div",{className:"card-skeleton__title"}),Object(i.jsx)("div",{className:"card-skeleton__stat"}),Object(i.jsx)("div",{className:"card-skeleton__stat"}),Object(i.jsx)("div",{className:"card-skeleton__stat"})]})]})}),J=(c(57),function(e){var t=Object(o.useContext)(l).darkMode,c=e.flag,n=e.name,a=e.population,s=e.region,r=e.capital;return Object(i.jsxs)("li",{className:"card ".concat(t?"card--dark":""),children:[Object(i.jsx)("img",{className:"card__flag",src:c,alt:n}),Object(i.jsxs)("div",{className:"card__info",children:[Object(i.jsx)("h3",{className:"card__title",children:n}),Object(i.jsxs)("p",{className:"card__stat",children:["Population:"," ",Object(i.jsx)("span",{className:"card__stat--light",children:a.toLocaleString("en-US",{maximumFractionDigits:2})})]}),Object(i.jsxs)("p",{className:"card__stat",children:["Region: ",Object(i.jsx)("span",{className:"card__stat--light",children:s})]}),Object(i.jsxs)("p",{className:"card__stat",children:["Capital: ",Object(i.jsx)("span",{className:"card__stat--light",children:r})]})]})]})}),A=(c(58),function(){var e=Object(o.useContext)(O),t=e.loading,c=e.filteredCountries,n=Object(C.a)(Array(8));return t?Object(i.jsx)("ul",{className:"card-list",children:n.map((function(e,t){return Object(i.jsx)(F,{},t)}))}):Object(i.jsx)("ul",{className:"card-list",children:c.map((function(e){return Object(i.jsx)(s.b,{to:"/".concat(e.name),children:Object(i.jsx)(J,Object(P.a)({},e))},e.name)}))})}),B=(c(59),function(){var e=Object(o.useContext)(l).darkMode;return Object(i.jsx)("h3",{className:"error ".concat(e?"error--dark":""),children:"Something went wrong. Please try again later."})}),I=(c(60),function(e){var t=e.className,c=Object(o.useContext)(l).darkMode,n=Object(o.useState)(!1),a=Object(r.a)(n,2),s=a[0],u=a[1];Object(o.useEffect)((function(){var e=function(){window.pageYOffset>500?u(!0):u(!1)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]);return Object(i.jsx)("button",{className:"".concat(t," scroll-to-top ").concat(s?"scroll-to-top--visible":""," ").concat(c?"scroll-to-top--dark":""),onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:Object(i.jsx)(L.a,{})})}),T=(c(61),function(){var e=Object(o.useContext)(O).error;return Object(i.jsxs)("div",{className:"home container",children:[Object(i.jsx)(D,{}),!e&&Object(i.jsx)(A,{}),e&&Object(i.jsx)(B,{}),Object(i.jsx)(I,{className:"home__scroll"})]})}),U=(c(62),function(){var e=Object(o.useContext)(l).darkMode;return Object(i.jsx)("h3",{className:"loading ".concat(e?"loading--dark":""),children:"Loading..."})}),G=c(33),H=c.n(G),W=(c(63),function(e){var t,c,n,a,u,d,O,h,m,f,x=e.match,_=Object(o.useContext)(l).darkMode,p=Object(o.useState)(!1),v=Object(r.a)(p,2),g=v[0],N=v[1],k=Object(o.useState)(!0),y=Object(r.a)(k,2),C=y[0],S=y[1],w=Object(o.useState)([]),M=Object(r.a)(w,2),L=M[0],E=M[1],D=Object(o.useState)([]),P=Object(r.a)(D,2),R=P[0],F=P[1];return Object(o.useEffect)((function(){N(!0),S(!1),function(){var e=Object(b.a)(j.a.mark((function e(){var t,c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://restcountries.eu/rest/v2/name/".concat(x.params.country,"?fullText=true"));case 3:return t=e.sent,e.next=6,t.json();case 6:return c=e.sent,E(c),e.next=10,Promise.all(c[0].borders.map(function(){var e=Object(b.a)(j.a.mark((function e(t){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://restcountries.eu/rest/v2/alpha?codes=".concat(t));case 2:return c=e.sent,e.next=5,c.json();case 5:return n=e.sent,e.abrupt("return",n[0].name);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:n=e.sent,F(n),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),S(!0);case 18:return e.prev=18,N(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,14,18,21]])})));return function(){return e.apply(this,arguments)}}()()}),[x.params.country]),g?Object(i.jsx)(U,{}):C?Object(i.jsx)(B,{}):Object(i.jsxs)("div",{className:"country-details ".concat(_?"country-details--dark":""," container"),children:[Object(i.jsxs)(s.b,{className:"country-details__link",to:"/",children:[Object(i.jsx)(H.a,{className:"country-details__icon"}),"Back"]}),Object(i.jsxs)("div",{className:"country-details__content",children:[Object(i.jsx)("img",{className:"country-details__flag",src:null===(t=L[0])||void 0===t?void 0:t.flag,alt:null===(c=L[0])||void 0===c?void 0:c.name}),Object(i.jsxs)("div",{className:"country-details__info",children:[Object(i.jsx)("h3",{className:"country-details__title",children:null===(n=L[0])||void 0===n?void 0:n.name}),Object(i.jsxs)("div",{className:"country-details__info-group country-details__info-group--one",children:[Object(i.jsxs)("p",{className:"country-details__stat",children:["Native Name: ",Object(i.jsx)("span",{className:"country-details__stat--light",children:null===(a=L[0])||void 0===a?void 0:a.nativeName})]}),Object(i.jsxs)("p",{className:"country-details__stat",children:["Population:"," ",Object(i.jsx)("span",{className:"country-details__stat--light",children:null===(u=L[0])||void 0===u?void 0:u.population.toLocaleString("en-US",{maximumFractionDigits:2})})]}),Object(i.jsxs)("p",{className:"country-details__stat",children:["Region: ",Object(i.jsx)("span",{className:"country-details__stat--light",children:null===(d=L[0])||void 0===d?void 0:d.region})]}),Object(i.jsxs)("p",{className:"country-details__stat",children:["Sub Region: ",Object(i.jsx)("span",{className:"country-details__stat--light",children:null===(O=L[0])||void 0===O?void 0:O.subregion})]}),Object(i.jsxs)("p",{className:"country-details__stat",children:["Capital: ",Object(i.jsx)("span",{className:"country-details__stat--light",children:null===(h=L[0])||void 0===h?void 0:h.capital})]})]}),Object(i.jsxs)("div",{className:"country-details__info-group country-details__info-group--two",children:[Object(i.jsxs)("p",{className:"country-details__stat",children:["Top Level Domain: ",Object(i.jsx)("span",{className:"country-details__stat--light",children:".be"})]}),Object(i.jsxs)("p",{className:"country-details__stat",children:["Currencies:"," ",Object(i.jsx)("span",{className:"country-details__stat--light",children:null===(m=L[0])||void 0===m?void 0:m.currencies[0].name})]}),Object(i.jsxs)("p",{className:"country-details__stat",children:["Languages:"," ",null===(f=L[0])||void 0===f?void 0:f.languages.map((function(e,t,c){return Object(i.jsx)("span",{className:"country-details__stat--light",children:"".concat(e.name).concat(t!==c.length-1?", ":"")},e.name)}))]})]}),!!R.length&&Object(i.jsxs)("div",{className:"country-details__info-group country-details__info-group--three",children:[Object(i.jsx)("h4",{className:"country-details__stat",children:"Border Countries:"}),Object(i.jsx)("ul",{className:"country-details__borders",children:R.map((function(e){return Object(i.jsx)(s.b,{className:"country-details__border",to:"/".concat(e),children:e},e)}))})]})]})]})]})}),Y=(c(64),function(){var e=Object(o.useContext)(l).darkMode,t=Object(m.g)(),c=Object(m.f)();return Object(i.jsxs)("div",{className:"not-found ".concat(e?"not-found--dark":""),children:[Object(i.jsxs)("h3",{className:"not-found__message",children:["No match for ",Object(i.jsx)("code",{className:"not-found__path",children:t.pathname})]}),Object(i.jsx)("button",{className:"not-found__button",onClick:function(){c.push("/")},children:"Go Home"})]})}),q=(c(65),function(){var e=Object(o.useContext)(l).darkMode;return Object(i.jsxs)("div",{className:"app ".concat(e?"app--dark":""),children:[Object(i.jsx)(p,{}),Object(i.jsxs)(m.c,{children:[Object(i.jsx)(m.a,{exact:!0,path:"/",component:T}),Object(i.jsx)(m.a,{exact:!0,path:"/:country",component:W}),Object(i.jsx)(m.a,{component:Y})]})]})});c(66);a.a.render(Object(i.jsx)(s.a,{basename:"/rest-countries-api",children:Object(i.jsx)(u,{children:Object(i.jsx)(h,{children:Object(i.jsx)(q,{})})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.fc286a4e.chunk.js.map